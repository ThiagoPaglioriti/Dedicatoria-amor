:root{
--bg:#ffdfe9; --accent:#ff4f8a; --soft:#ffeef6; --card:#ffffff; --shadow: 0 6px 18px rgba(0,0,0,0.12);
--font: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}
*{box-sizing:border-box}
body{margin:0;font-family:var(--font);background:linear-gradient(180deg,#ffeef6 0%,#ffdfe9 100%);color:#6b1840}
.center{max-width:420px;margin:30px auto;padding:20px}
.title{font-size:1.6rem;text-align:center;margin-bottom:12px;color:var(--accent)}
.lock-card{background:linear-gradient(180deg,#fff4fb, #ffeef8);border-radius:22px;padding:18px;box-shadow:var(--shadow);text-align:center}
.lock-card{position:relative}
.lock-art{height:170px;display:flex;align-items:center;justify-content:center}
.lock-form .selectors{display:flex;gap:8px;justify-content:center;margin:8px 0}

/* Colocar los selects dentro del cuadro del SVG (candado) */
.lock-card .selectors{
	position:absolute;
	left:50%;
	/* Ajusta `top` según la posición del rect dentro del SVG; 92px funciona en el diseño actual */
	top:92px;
	transform:translateX(-50%);
	z-index:2;
	background:transparent;
	padding:4px 6px;
}

/* Asegurar que selects se vean bien encima del fondo */
.lock-card .selectors select{background:rgba(255,255,255,0.85);border-radius:8px;padding:8px 10px;border:2px solid rgba(255,79,138,0.18);font-weight:600}

@media (max-width:420px){
	.lock-card .selectors{top:86px}
	.lock-card .selectors select{padding:6px 8px}
}
.lock-form select{padding:8px 10px;border-radius:8px;border:2px solid rgba(255,79,138,0.18);font-weight:600}
.hint{font-size:0.9rem;color:#a53b6a;margin-top:6px}
.btn{margin-top:10px;padding:10px 18px;border-radius:12px;background:linear-gradient(180deg,var(--accent),#ff7ab0);color:white;border:none;cursor:pointer}
.msg{color:#a63a6a;margin-top:8px}


/* unlocked and shake */
.unlocked .lock-card{transform:scale(0.97);opacity:0.9}
.shake .lock-card{animation:shake .6s}
@keyframes shake{0%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-6px)}80%{transform:translateX(6px)}100%{transform:translateX(0)}}


/* LOVE page styles */
.love-header{padding-top:18px;text-align:center}
.love-header h1{font-size:2.2rem;color:var(--accent);text-shadow:0 4px 8px rgba(255,111,150,0.14)}
.gallery-section h2, .time-section h2, .letter-section h2{font-size:1.4rem;color:#6b1840;text-align:center}
.carousel{display:flex;gap:14px;overflow-x:auto;padding:18px 6px;scroll-behavior:smooth}
.carousel img{width:150px;height:220px;object-fit:cover;border-radius:12px;box-shadow:var(--shadow);flex:0 0 auto}
.carousel.drag{cursor:grab}
.carousel.drag:active{cursor:grabbing}

/* Fondo con corazones estilo grafito (sketched) */
/* Usamos un SVG en data-uri para múltiple soporte y repetición */
:root{
	--hearts-bg: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'><defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='%23ffd7e6'/><stop offset='1' stop-color='%23ff9fc6'/></linearGradient></defs><g fill='none' stroke='%23ff4f8a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M50 70 C50 45 80 45 80 70 C80 95 50 110 50 130 C50 110 20 95 20 70 C20 45 50 45 50 70 Z' fill='none' opacity='0.9' stroke='%23000000' stroke-width='1.5' stroke-opacity='0.25'/><path d='M150 90 C150 65 180 65 180 90 C180 115 150 130 150 150 C150 130 120 115 120 90 C120 65 150 65 150 90 Z' fill='none' opacity='0.95' stroke='%23000000' stroke-width='1.5' stroke-opacity='0.22'/><g transform='translate(60,110) scale(0.6)'><path d='M20 10 C20 -5 40 -5 40 10 C40 25 20 35 20 50 C20 35 0 25 0 10 C0 -5 20 -5 20 10 Z' fill='%23ff9fc6' stroke='%230000' stroke-width='1' stroke-opacity='0.18'/></g><g transform='translate(10,20) scale(0.45)'><path d='M20 10 C20 -5 40 -5 40 10 C40 25 20 35 20 50 C20 35 0 25 0 10 C0 -5 20 -5 20 10 Z' fill='%23ffd7e6' stroke='%230000' stroke-width='1' stroke-opacity='0.14'/></g></g></svg>");
}

/* Aplicar fondo a la página de dedicatoria */
/* Aplicar el fondo sketched tanto en la página de dedicatoria como en la principal */
body.page-love,
body.page-lock{
	background-color:var(--bg);
	background-image:var(--hearts-bg), linear-gradient(180deg,#fff7fb 0%, #ffeef6 60%, #ffdfe9 100%);
	background-size:200px 200px, cover;
	background-repeat:repeat, no-repeat;
	background-attachment:fixed, scroll;
}

/* Añadimos una ligera textura tipo papel con pseudo-elemento para dar aspecto más orgánico */
body.page-love::before,
body.page-lock::before{
	content:"";
	position:fixed; inset:0; pointer-events:none; z-index:0;
	background-image:linear-gradient(transparent 0%, rgba(0,0,0,0.02) 100%);
	mix-blend-mode:overlay; opacity:0.9;
}

/* Asegurar que el contenido quede por encima del fondo */
.page-love > *,
.page-lock > *{position:relative; z-index:1}

/* Mensaje que aparece en la posición del click (compartido entre páginas) */
.click-message{
	position:fixed;
	top: auto;
	left: 50%;
	transform: translateX(-50%) translateY(10px);
	background: rgba(0,0,0,0.85);
	color: #fff;
	padding: 10px 14px;
	border-radius: 8px;
	font-size: 1rem;
	z-index: 1200;
	opacity: 0;
	transition: opacity .18s ease, transform .18s ease, left .08s linear, top .08s linear;
	pointer-events: none;
}
.click-message.visible{ opacity:1; transform:translateX(-50%) translateY(0); pointer-events:auto; }

/* ------------------------------- */
/* SOBRE y CARTA (estilos añadidos) */
/* ------------------------------- */
/* Estilos para el sobre, sello y carta que se muestran en la sección "Carta de Mi Corazón".
	 Estos estilos se añadieron desde un snippet externo y están comentados para facilitar
	 su comprensión y personalización. */

/* Contenedor del SOBRE (estético, inline-block) */

/* SOBRE: estilo inspirado en la imagen adjunta. */
.sobre{
	position: relative;
	display: inline-block;
	width: 260px;
	height: 160px;
	background: #fff7ec; /* interior crema similar a la imagen */
	border: 4px solid #6d0f2a; /* borde vino oscuro */
	border-radius: 14px;
	box-shadow: 0 6px 14px rgba(0,0,0,0.18);
	overflow: hidden;
}

/* Dibujamos las líneas diagonales del sobre (las solapas) usando pseudo-elementos.
	 Esto crea el efecto de "X" y la línea superior que aparece en la imagen. */
.sobre::before,
.sobre::after{
	content: '';
	position: absolute;
	left: 0; top: 0; right: 0; bottom: 0;
	pointer-events: none;
}
.sobre::before{
	/* línea diagonal de izquierda-abajo a derecha-arriba */
	background: linear-gradient(135deg, transparent 42%, rgba(109,15,42,0.08) 42%, rgba(109,15,42,0.08) 43%, transparent 43%);
}
.sobre::after{
	/* línea diagonal opuesta */
	background: linear-gradient(225deg, transparent 42%, rgba(109,15,42,0.08) 42%, rgba(109,15,42,0.08) 43%, transparent 43%);
}

/* SELLO centrado con forma circular y corazón en su interior. */
.sello{
	position: absolute;
	left: 50%;
	top: 50%;
	transform: translate(-50%, -50%);
	width: 64px;
	height: 64px;
	background: #6d0f2a; /* color del sello (vino) */
	border-radius: 50%;
	cursor: pointer;
	color: white;
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: 700;
	font-size: 26px;
	box-shadow: 0 6px 12px rgba(0,0,0,0.22);
	z-index: 2;
}

/* Pequeño efecto hover para el sello */
.sello:hover{ transform: translate(-50%, -50%) scale(1.04); }

/* CARTA: panel que aparece al abrir el sobre. Oculta inicialmente. */
.carta{
	display: none; /* visible al abrir */
	position: relative;
	background-color: #fffaf0;
	width: 300px;
	height: auto;
	margin: 12px auto 0 auto;
	border: 2px solid #c9a87c;
	border-radius: 10px;
	padding: 20px;
	box-shadow: 0 6px 15px rgba(0,0,0,0.3);
	animation: aparecer 0.4s ease forwards;
}

/* Animación de aparición de la carta */
@keyframes aparecer{
	from {opacity: 0; transform: scale(0.8);} 
	to {opacity: 1; transform: scale(1);} 
}

/* BOTÓN DE CIERRE dentro de la carta */
.cerrar{
	position: absolute;
	top: 8px;
	right: 10px;
	cursor: pointer;
	background: none;
	border: none;
	font-size: 20px;
	color: #a33;
}
.cerrar:hover{ color: #d11 }

/* Pequeña adaptación responsive si hace falta */
@media (max-width:420px){
	.sobre{ width: 200px; height: 150px }
	.carta{ width: calc(100% - 40px) }
}

/* ------------------------------- */
/* CENTRAR SOBRE Y CARTA EN PANTALLA */
/* ------------------------------- */
.letter-section{
	display:flex;
	align-items:center;
	justify-content:center;
	min-height: 360px; /* espacio vertical para centrar visualmente */
	flex-direction:column;
}

/* Solapa superior (flap) que se animará al abrir el sobre.
	 Usamos un elemento .flap posicionado encima del sobre. */
.flap{
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 48%;
	background: linear-gradient(180deg, rgba(109,15,42,0.06), rgba(109,15,42,0.03));
	border-bottom: 2px solid rgba(109,15,42,0.08);
	transform-origin: top center;
	border-top-left-radius: 12px;
	border-top-right-radius: 12px;
	z-index:1;
	transition: transform 450ms cubic-bezier(.2,.8,.2,1);
}

/* Estado abrir: rotamos la solapa para simular apertura */
.sobre.opening .flap{
	transform: rotateX(75deg) translateY(-12%);
	box-shadow: 0 18px 30px rgba(0,0,0,0.18);
}

/* Ajustes tipográficos para la carta: cursiva, negrita y tamaño mayor */
.carta .letter-text{
	font-style: italic;
	font-weight: 700;
	font-size: 1.05rem; /* un poco más grande */
	line-height: 1.45;
	color: #5b2430;
}

/* Animación sutil al mostrar la carta */
.carta{ transform-origin: center top }

/* Decoración tipo carta: titulo, corazones en las esquinas y arte en la esquina inferior derecha */
.carta{
	position: relative; /* necesario para posicionar decoraciones */
	background: #fff7ec;
	border: 6px solid #f5cfcf;
	padding: 28px 36px 64px 36px; /* más espacio horizontal */
	width: 880px; /* mucho más ancha para alargarse a ambos lados */
	min-height: 480px; /* ajustar altura para mantener proporción */
	max-width: calc(100% - 48px);
	margin: 0 auto; /* asegurar centrado */
}

.carta .letter-title{
	font-family: 'Brush Script MT', 'Segoe Script', cursive;
	font-size: 1.5rem;
	margin: 0 0 10px 0;
	color: #6b2430;
}

/* corazones decorativos en las 4 esquinas */
.carta .decor-icons .heart{
	position: absolute;
	color: #e65a63;
	font-size: 18px;
	opacity: 0.95;
}
.carta .decor-icons .heart.tl{ top: 6px; left: 6px }
.carta .decor-icons .heart.tr{ top: 6px; right: 6px }
.carta .decor-icons .heart.bl{ bottom: 22px; left: 8px }
.carta .decor-icons .heart.br{ bottom: 22px; right: 8px }

/* Arte (corazón + flor) en la esquina inferior derecha, colocado más abajo para no interferir con el texto */
.carta .art{
	position: absolute;
	right: 10px;
	bottom: 6px; /* más abajo; el padding inferior de la carta deja espacio */
	font-size: 28px;
	color: #e65a63;
	opacity: 0.98;
	display:flex;flex-direction:column;align-items:center;gap:4px;
}
.carta .art .rose{ font-size:22px; color:#b23a48 }

/* Ensures text doesn't overlap the art by adding padding-right on content if needed */
.carta .letter-content{ padding-right: 48px }

/* Borde punteado interior: creado con pseudo-elemento para parecer líneas punteadas alrededor del papel */
.carta::before{
	content: '';
	position: absolute;
	inset: 12px; /* deja margen desde el borde exterior */
	border-radius: 8px;
	pointer-events: none;
	/* usamos background SVG inline para dibujar puntos uniformes con control de tamaño */
	background-image: radial-gradient(circle, rgba(109,15,42,0.9) 1px, transparent 1px);
	background-size: 10px 10px;
	mask-image: linear-gradient(#000 0 0);
	opacity: 0.12;
}

/* Para dar efecto de borde punteado en los lados, ocultamos los puntos cerca del interior para dejar una línea punteada visible
	 usando otro pseudo-elemento con linear-gradient en combinación (simplifica el borde). */
.carta::after{
	content: '';
	position: absolute;
	left: 22px; right: 22px; top: 22px; bottom: 22px;
	border-radius: 6px;
	pointer-events: none;
	border: 2px dashed rgba(230,90,99,0.45);
}